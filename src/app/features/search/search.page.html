<form [formGroup]="form" class="container" style="display:flex; gap:8px; align-items:center; margin-bottom:16px;">
  <div class="form-field" style="flex:1;">
    <input type="search" placeholder="Search TV shows..." formControlName="q" aria-label="Search shows" />
    @if (form.get('q')?.touched && form.get('q')?.invalid) {
      <div class="error">Enter at least 3 characters</div>
    }
  </div>
  <button type="button" (click)="page.set(1)" [disabled]="form.invalid">Search</button>
</form>

<app-loader [show]="loading()"></app-loader>
<app-error [message]="error()"></app-error>

@if (!loading() && paged.length) {
  <div class="grid">
    @for (s of paged; track s.id) {
      <app-show-card [show]="s"></app-show-card>
    }
  </div>
}
@if (!loading() && !paged.length && form.get('q')?.value) {
  <div>No results found.</div>
}

@if (shows().length) {
  <div style="display:flex; gap:8px; align-items:center; margin-top:12px;">
    <button (click)="prev()" [disabled]="page()===1">Prev</button>
    <span>Page {{page()}} of {{totalPages()}}</span>
    <button (click)="next()" [disabled]="page()===totalPages()">Next</button>
  </div>
}
